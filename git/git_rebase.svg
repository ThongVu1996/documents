<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 300">
  <defs>
    <style>
      .commit { fill: #fff; stroke: #333; stroke-width: 2; }
      .branch-line { fill: none; stroke: #888; stroke-width: 3; }
      .label { font-family: sans-serif; font-size: 14px; fill: #333; }
      .commit-text { font-family: monospace; font-size: 12px; fill: #333; text-anchor: middle; dominant-baseline: middle; }
      
      /* Animation definitions */
      .fade-in { opacity: 0; animation: fadeIn 0.5s forwards; }
      .fade-out { opacity: 1; animation: fadeOut 0.5s forwards; }
      .move-f1 { animation: moveF1 2s forwards; }
      .move-f2 { animation: moveF2 2s forwards; }
      
      @keyframes fadeIn { to { opacity: 1; } }
      @keyframes fadeOut { to { opacity: 0; } }
      
      /* Move F1 from old pos (250, 220) to new pos at end of main (450, 150) */
      @keyframes moveF1 {
        0% { transform: translate(0, 0); opacity: 1; }
        50% { opacity: 0; }
        51% { transform: translate(200px, -70px); opacity: 0; }
        100% { transform: translate(200px, -70px); opacity: 1; }
      }
      
       /* Move F2 from old pos (350, 220) to new pos (500, 150) */
      @keyframes moveF2 {
        0% { transform: translate(0, 0); opacity: 1; }
        50% { opacity: 0; }
        51% { transform: translate(150px, -70px); opacity: 0; }
        100% { transform: translate(150px, -70px); opacity: 1; }
      }
    </style>
  </defs>

  <!-- Background -->
  <rect width="600" height="300" fill="#f9f9f9" rx="10" ry="10"/>

  <!-- Main Branch Line -->
  <path d="M 50 150 L 550 150" class="branch-line" />
  <text x="50" y="120" class="label" fill="#007bff">Main Branch</text>
  
  <!-- Old Feature Base (fades out) -->
  <path d="M 150 150 Q 200 150 200 220 L 400 220" class="branch-line" style="opacity: 1; animation: fadeOut 0.5s 3s forwards;" />
  <text x="230" y="255" class="label" fill="#28a745" style="opacity: 1; animation: fadeOut 0.5s 3s forwards;">Feature Branch (Old)</text>

  <!-- Commits Main Branch -->
  <g class="fade-in" style="animation-delay: 0s;">
    <circle cx="100" cy="150" r="15" class="commit" />
    <text x="100" y="150" class="commit-text">C1</text>
  </g>
  <g class="fade-in" style="animation-delay: 0.5s;">
    <circle cx="150" cy="150" r="15" class="commit" />
    <text x="150" y="150" class="commit-text">C2</text>
  </g>
  
  <!-- Main continues (Rebase Target) -->
  <g class="fade-in" style="animation-delay: 1.0s;">
    <circle cx="300" cy="150" r="15" class="commit" />
    <text x="300" y="150" class="commit-text">C3</text>
  </g>
  <g class="fade-in" style="animation-delay: 1.5s;">
    <circle cx="400" cy="150" r="15" class="commit" />
    <text x="400" y="150" class="commit-text">C4</text>
    <text x="380" y="120" class="label" fill="#007bff" style="font-size: 10px;">New Base</text>
  </g>

  <!-- Feature Branch Commits (Initial) which will move -->
  <g style="animation: moveF1 2s 3s forwards;"> 
    <!-- Initial pos: 250, 220. Final pos: 450, 150. Delta: +200, -70 -->
    <circle cx="250" cy="220" r="15" class="commit" stroke="#28a745" />
    <text x="250" y="220" class="commit-text">F1</text>
  </g>
  
  <g style="animation: moveF2 2s 3.5s forwards;">
    <!-- Initial pos: 350, 220. Final pos: 500, 150. Delta: +150, -70 -->
    <circle cx="350" cy="220" r="15" class="commit" stroke="#28a745" />
    <text x="350" y="220" class="commit-text">F2</text>
  </g>
  
  <text x="450" y="100" class="label" fill="#d63384" style="opacity:0; animation: fadeIn 0.5s 5s forwards;">Linear History!</text>

</svg>
